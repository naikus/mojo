<!DOCTYPE html>
<html manifest="manifest.appcache">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
      <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
      <meta name="HandheldFriendly" content="True" />
      <meta name="MobileOptimized" content="480" />
      <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" />
      <meta name="apple-mobile-web-app-capable" content="yes" />
      
      <title>Kitchen Sink</title>
      
      <script type="text/javascript" src ="js/h5.js"> </script>
      <script type="text/javascript" src ="js/mojo.js"> </script>
      
      <!-- script type="application/javascript" src="js/iscroll-lite.js?v4"></script -->
      
      <link rel="stylesheet" type="text/css" href="css/mojo.css" />
      <link rel="stylesheet" type="text/css" href="css/common-icons.css" />
      
      
      <style type="text/css">
         *{
            font-family: Helvetica;
         }
         
         body {
            background: #ddd;
         }
         
         .content {
            height: auto;
            min-height: 100%;
            width: 100%;
         }
         
         .card-panel {
            
         }
         
         #navAside {
            position: fixed;
            min-height: 100%;
            background-color: #333;
         }
         
         #navigation {
            width: 100%;
         }
         #navigation .list > li {
            border: 1px solid #333;
            border-bottom: 1px solid #222;
            border-top: 1px solid #444;
            color: #f4f4f4;
            padding-top: 12px;
         }
         #navigation .list > li [class^="icon-"] {
            margin-right: 10px;
            font-size: 20px;
            text-shadow: 1px 1px 1px #000;
         }
                 
         .help {
            padding: 10px;
            background-color: #C6D9DE;
            border: 1px solid #75ACBC;
            border-radius: 3px;
            margin: 10px;
         } 
         
         #navigation > header {
            padding: 12px 10px;

            font-weight: bold;
            color: #aaa;
            background-color: #222;
         }
         
         @media only screen and (min-width: 320px) and (max-width: 600px) {
            #navAside {
               width: 85%;
            }
            #viewPort {
               left: 0;
               width: 100%;
            }
            #viewPort.reveal {
               left: 85%;
               /*width: 15%;*/ /* works but shows ugly scrollbars in opera mobile */
               height: 100%;
               overflow: hidden;
               box-shadow: -2px 0 10px #111;
               -webkit-box-shadow: -2px 0 5px #232323;
            }
         }
         
         @media only screen and (min-width: 600px) {
            #navAside {
               width: 20%;
               box-shadow: inset -2px 0 10px #111;
               z-index: 100;
            }
            #viewPort {
               left: 20%;
               width: 80%;
            }
         }
         
         
      </style>
      
      <script>
         var kitchenSink = $.Application(), 
            navList,
            TAP = "ontouchstart" in document.documentElement ? "tap" : "click";
            
         function showAppView(info, data) {
            window.setTimeout(function() {
               if(info.url) {
                  kitchenSink.loadView(info.id, info.url, function(viewId) {
                     kitchenSink.showView(viewId, data);
                  })
               }else {
                  kitchenSink.showView(info.id, data);
               }
            }, 50);
         };
         
         $.ready(function() {
            var viewPort = $("#viewPort");
            
            navList = $("#navList").datalist({
               data: [
                  {label: "About", id: "aboutView", icon: "icon-info-circle"},
                  {label: "Simple List", id: "simpleListView", icon: "icon-th-list"},
                  {label: "Rich List", id: "richListView", icon: "icon-th-list"},
                  {label: "Card Panel", id: "cardPanelView", icon: "icon-heart"},
                  {label: "Tabstrip", id: "tabStripView", icon: "icon-tag"},
               ],
               render: function(widget, item, i, datum) {
                  item.data("viewinfo", datum);
                  return '<i class="' + datum.icon + '"></i>' + datum.label || "Huh?";
               },
               onselectionchange: function(curr, old) {
                  if(viewPort.hasClass("reveal")) {
                     viewPort.removeClass("reveal"); 
                  }
                  showAppView(curr.data("viewinfo"));
               },
               selectedIndex: 0
            });
            
            viewPort.on("swipe", function(e) {
               var m = e.movement;
               if(m.startX <= 30 && m.dir === "right") {
                  viewPort.addClass("reveal");
               }else if(m.dir === "left") {
                  viewPort.removeClass("reveal");
               }
            });
            
            // hide the URL bar when a view transitions in
            viewPort.on("viewtransitionin", function() {
               var doc = window.document, 
                  yOffset = window.pageYOffset || doc.compatMode === "CSS1Compat" && 
                            doc.documentElement.scrollTop || doc.body.scrollTop || 0;               
               setTimeout(function() {
                  if(yOffset < 20) {
                     window.scrollTo(0, 1);
                  }
               }, 30);
            });
            
            kitchenSink.initialize({
               viewPort: "viewPort",
               startView: "aboutView"
            });
         });
      </script>
   </head>
   <body id="body">
   
      <aside id="navAside">
         <nav id="navigation">
            <header>Navigation</header>
            <ul id="navList" class="list">
            </ul>
         </nav>
      </aside>
   
      <div class="viewport" id="viewPort">
      
         <article id="aboutView" class="view">
            <style scoped>
               #aboutView {
                  -moz-transform: translateX(0);
                  -webkit-transform: translateX(0);
                  -o-transform: translateX(0);
                  transform: translateX(0);
               }
               #aboutView.out {
                  -moz-transform: translateX(-100%);
                  -webkit-transform: translateX(-100%);
                  -o-transform: translateX(-100%);
                  transform: translateX(-100%);
               }
               #aboutView.in {
                  -moz-transform: translateX(0%);
                  -webkit-transform: translateX(0%);
                  -o-transform: translateX(0%);
                  transform: translateX(0%);
               }
               #aboutView.pop {
                  -moz-transform: translateX(100%);
                  -webkit-transform: translateX(100%);
                  -o-transform: translateX(100%);
                  transform: translateX(100%);
               }
               
               #swipeIndication {
                  display: none;
               }
               
               .about {
                  text-shadow: 0px 0px 3px #fff;
                  color: #333;
                  font-size: 34px;
                  text-align: center;
                  font-weight: bold;
                  margin-top: 60px;
               }
               
               .about > .icon-star-1 {
                  color: #E67A06;
                  text-shadow: 1px 1px 1px #A95C04;
               }
               
               @media only screen and (min-width: 320px) and (max-width: 600px) {
                  #swipeIndication {
                     display: block;
                     width:100%;
                     position:absolute;
                     bottom: 20px;
                  }  
               }
            </style>
            <script>
               kitchenSink.registerView("aboutView");
            </script>
            <div class="content">
               <div class="about">
                  <span class="icon-star-1"></span>
                  Kitchen Sink
               </div>
               <div id="swipeIndication">
                  <p class="help">
                     <span class="icon-right"></span>
                     Swipe to your right from the left edge to reveal the menu.
                  </p>
               </div>
            </div>
         </article>
         
         
         
         <article class="view" id="simpleListView">
            <style scoped>
               #simpleList {
                  /*height: 96%;*/
                  /*width: 96%;*/
                  margin: 0.7%;
               }
            </style>
            <script>
               kitchenSink.registerView("simpleListView", function(app, viewUi) {
                  var countryList = [
                     "India","United States","United Kingdom","Afghanistan","Albania","Algeria",
                     "American Samoa","Andorra","Angola","Anguilla","Antarctica","Antigua and Barbuda","Argentina",
                     "Armenia","Aruba","Australia","Austria","Azerbaijan","Bahamas","Bahrain","Bangladesh",
                     "Barbados","Belarus","Belgium","Belize","Benin","Bermuda","Bhutan","Bolivia",
                     "Bosnia and Herzegovina","Botswana","Bouvet Island","Brazil","British Indian Ocean Territory",
                     "Brunei Darussalam","Bulgaria","Burkina Faso","Burundi","Cambodia","Cameroon","Canada",
                     "Cape Verde","Cayman Islands","Central African Republic","Chad","Chile","China",
                     "Christmas Island","Cocos (Keeling) Islands","Colombia","Comoros","Congo"];

                  return {
                     initialize: function() {
                        $("#simpleList").datalist({
                           data: countryList
                        });
                     }
                  };
               });
            </script>
            <div class="content">
               <h4 class="header">Simple List</h4>
               <div id="simpleList"></div>
            </div>
         </article>
         
         
         
         <article class="view" id="richListView">
            <style scoped>
               #richList {
                  /*height: 96%;
                  width: 96%;*/
                  margin: 0.7%;
               }
               #richListView .country .icon {
                  width: 45px;
                  height: 45px;
                  float: left;
                  background: #f4f4f4;
               }
               #richListView .country p {
                  margin-left: 50px;
                  margin-bottom: 5px;
               }
               </style>
            <script id="countryTmpl" type="text/x-mojo-template">
               <div class="icon"></div>
               <p class="label">{title}</p>
               <p class="desc">{description}</p>
            </script>
            <script>
               kitchenSink.registerView("richListView", function(app, viewUi) {
                  var countryTmpl, 
                     moreCountryList = [
                        "Congo, The Democratic Republic of The","Cook Islands", "Costa Rica","Cote D'ivoire",
                        "Croatia","Cuba","Cyprus","Czech Republic","Denmark","Djibouti","Dominica","Dominican Republic",
                        "Ecuador","Egypt","El Salvador","Equatorial Guinea","Eritrea","Estonia","Ethiopia",
                        "Falkland Islands (Malvinas)","Faroe Islands","Fiji","Finland","France","French Guiana",
                        "French Polynesia","French Southern Territories","Gabon","Gambia","Georgia","Germany","Ghana",
                        "Gibraltar","Greece","Greenland","Grenada","Guadeloupe","Guam","Guatemala","Guinea",
                        "Guinea-bissau","Guyana","Haiti","Heard Island and Mcdonald Islands"
                     ];

                  return {
                     initialize: function() {
                        countryTmpl = $("#countryTmpl").template();
                        $("#richList").datalist({
                           itemClass: "country",
                           render: function(w, item, i, country) {
                              return countryTmpl.process({
                                 title: country,
                                 description: "The Country Of " + country
                              });
                           },
                           data: moreCountryList
                        });
                     }
                  };
               });
            </script>
            <div class="content">
               <h4 class="header">Rich List</h4>
               <div id="richList"></div>
            </div>
         </article>
         
         
         
         <article class="view" id="cardPanelView">
            <style scoped>
               #cardPanel {
                  width: 100%;
                  height: 320px;
                  margin: 10% auto;
               }
               .card-content {

                  background: #ddd;
                  border: 1px solid #ccc;
                  -moz-box-sizing: border-box;
                  -webkit-box-sizing: border-box;
                  width: 96%;
                  height: auto;
                  margin: 0 2%;

                  text-align: center;
                  overflow: auto;
               }
               #cardPanel h2 {
                  text-align: center;
                  margin: 6% auto;
                  width: 70%;
                  text-shadow: 1px 1px 1px #fff;
               }
               .panel-buttons a {
                  font-size: 28px;
                  font-weight: bold;
               }
            </style>
            <script>
               kitchenSink.registerView("cardPanelView", function(app, viewUi) {
                  var cp, cardPanel;
                  return {
                     initialize: function() {
                        cp = $("#cardPanel");
                        cardPanel = cp.cardpanel({
                           orientation: "horizontal"
                        });
                        cp.on("swipe", function(e) {
                           var m = e.movement, dir = m.dir;
                           if(dir === "left") {
                              cardPanel.next();
                           }else if(dir === "right") {
                              cardPanel.previous();
                           }
                        });

                        $("#prevCard").on(TAP, function() {
                           cardPanel.previous();
                        });
                        $("#nextCard").on(TAP, function() {
                           cardPanel.next();
                        });
                     },
                     activate: function() {
                        cardPanel.layout();
                     }
                  };
               });
            </script>
            <div class="content">
               <h4 class="header">Card Panel</h4>
               <div id="cardPanel" class="card-panel">
                  <div class="card-wrapper">
                     <div class="card">
                        <div class="card-content">
                           <img src="images/hope.jpg" alt="Hope" />
                        </div>
                     </div>
                     <div class="card">
                        <div class="card-content">
                           <img src="images/lonely.jpg" alt="Lonely" />
                        </div>
                     </div>
                     <div class="card">
                        <div class="card-content">
                           <img src="images/bubbles.jpg" alt="Bubbles" />
                        </div>
                     </div>
                  </div>
               </div>
               <div class="row panel-buttons">
                  <a id="prevCard" class="button col-two">&#171;</a>
                  <a id="nextCard" class="button col-two">&#187;</a>
               </div>
            </div>
         </article>
         
         
         
         <article class="view" id="tabStripView">
            <style scoped>
               .tab-content {
                  margin: 10px;
               }
               #tabStrip {
                  box-shadow: 0 1px 5px #bbb;
                  overflow: hidden;
               }
               #tabStrip > .tab {
                  width: 49%; /* since we have only two tabs */
               }
            </style>

            <script>
               kitchenSink.registerView("tabStripView", function(app, viewUi) {
                  var dataList;
                  return {
                     initialize: function() {
                        $("#tabStrip").tabstrip({
                           selectedIndex: 1,
                           ontabchange: function(curTab, oldTab) {
                              if(!dataList && this.getSelectedIndex() == 0) {
                                 var i, arr = [];
                                 for(i = 0; i < 50; i++) {
                                    arr[arr.length] = "Item " + i;
                                 }
                                 dataList = $("#tabOneList").datalist({
                                    data: arr
                                 });
                              }
                           }
                        });
                     }
                  };
               });
            </script>
            <div class="content">
               <ul id="tabStrip" class="tabstrip">
                  <li class="tab" data-ref="#tabOne"><span>Tab One</span></li>
                  <li class="tab" data-ref="#tabTwo"><span>Tab Two</span></li>
               </ul>
               <div class="tabs-container">
                  <div class="tab-content" id="tabOne">
                     <div id="tabOneList"></div>
                  </div>
                  <div class="tab-content" id="tabTwo">Tab Two Content</div>
               </div>
            </div>
         </article>
      </div>
   </body>
</html>